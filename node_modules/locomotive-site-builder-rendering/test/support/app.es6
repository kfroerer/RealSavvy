import fs from 'fs';
import path from 'path';
import * as local from '../../lib/local/app';
import * as production from '../../lib/production/app';
import defaultAppThemes from '../production/fixtures/default/lib/themes/definitions';
import routes from '../production/fixtures/default/lib/themes/routes';

function buildDefaultLocalApp() {
  var dirname = path.join(__dirname, '../local/fixtures/default');
  return local.buildApp(dirname, defaultAppThemes, routes);
}

function buildDefaultApp() {
  var dirname = path.join(__dirname, '../production/fixtures/default');
  return production.buildApp(dirname, defaultAppThemes, routes);
}

function loadDefaultAppData() {
  var filename = path.join(__dirname, '../production/fixtures/default/data.json');
  return JSON.parse(fs.readFileSync(filename));
}

function loadDefaultApp404Data() {
  var filename = path.join(__dirname, '../production/fixtures/default/404.json');
  return JSON.parse(fs.readFileSync(filename));
}

export { buildDefaultLocalApp, buildDefaultApp, loadDefaultAppData, loadDefaultApp404Data }
